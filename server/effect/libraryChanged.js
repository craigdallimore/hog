///////////////////////////////////////////////////////////////////////////////
//
// Library Changed
//
///////////////////////////////////////////////////////////////////////////////

// When the library changes, the client must be updated. This
// will publish a library update to the client.

//// IMPORTS //////////////////////////////////////////////////////////////////

import { onValues } from 'baconjs';
import socketStream from '../streams/socket';
import libStream from '../streams/library';
import { LIBRARY_CHANGED } from '../../constants';

//// SIDE EFFECT //////////////////////////////////////////////////////////////

onValues(socketStream, libStream, (socket, library) => {
  socket.emit(LIBRARY_CHANGED, JSON.stringify(library));
});

///////////////////////////////////////////////////////////////////////////////
