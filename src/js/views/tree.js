///////////////////////////////////////////////////////////////////////////////
//
// Tree
//
///////////////////////////////////////////////////////////////////////////////

'use strict';

//// IMPORTS //////////////////////////////////////////////////////////////////

let h = require('virtual-dom/h');
let { toPairs } = require('ramda');

//// COMPONENT ////////////////////////////////////////////////////////////////

let buildLeaf = ([name, model]) => {

  if (model.children) {
    return h('li', [
      h('span', name),
      h('ul', toPairs(model.children).map(buildLeaf))
    ]);
  }

  return h('li', [
    h('a', {
      'href' : '/' + model.filePath
    }, name)
  ]);

};

let buildTree = model => {

  return h(
    'ul',
    {
      className : 'library'
    },
    toPairs(model.children).map(buildLeaf)
  );

};

//// EXPORTS //////////////////////////////////////////////////////////////////

module.exports = buildTree;

///////////////////////////////////////////////////////////////////////////////
